name: Deploy Web App to GitHub Pages

on:
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v6

      - name: Copy files to docs/ directory
        run: |
          # Copy web app files to docs/ for GitHub Pages
          cp -f index.html docs/
          cp -rf js/* docs/js/
          cp -rf css/* docs/css/

          echo "‚úÖ Files copied to docs/ directory"

      - name: Commit and push changes
        run: |
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          git add docs/
          git commit -m "docs: Deploy web app to GitHub Pages [skip ci]" || echo "No changes to commit"
          git push origin main

      - name: Deployment summary
        run: |
          echo "‚úÖ Web app deployed successfully!"
          echo "üåê GitHub Pages will update in 2-5 minutes"
          echo "üîó URL: https://bordenet.github.io/product-requirements-assistant/"
