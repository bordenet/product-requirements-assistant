# v0.5.0 Electron Installer - Critical Issue

**Date**: 2025-11-20  
**Status**: BROKEN - Requires immediate fix  
**Severity**: Critical - Installer does not work

---

## Problem

The v0.5.0 Windows Electron installer (`PRD.Assistant.Setup.0.5.0.exe`) **does not work** because:

1. **Requires Go**: Tries to run `go run .` which requires Go to be installed
2. **Requires Python**: Tries to run `python3 -m streamlit` which requires Python + Streamlit
3. **Not self-contained**: Defeats the entire purpose of a "one-click installer"

### Error When Running

```
Starting Product Requirements Assistant (Electron)
Starting backend from: C:\Program Files\PRD Assistant\resources\backend
Backend process error: Error: spawn go ENOENT
```

---

## Root Cause

The Electron `main.js` was written for **development mode** (running from source) but was packaged for **production** without:
- Compiling the Go backend to a binary
- Bundling Python with Streamlit
- Testing the packaged installer

---

## Why This Happened

The original implementation assumed:
1. Electron-builder would "just work" with source code
2. Users would have Go and Python installed
3. The installer would be self-contained

**Reality**: Electron-builder packages files, but doesn't compile or bundle runtimes.

---

## Options to Fix

### Option 1: Remove v0.5.0 Release (RECOMMENDED)

**Action**: Delete the broken release and apologize

**Pros**:
- Honest and transparent
- Prevents more users from downloading broken installer
- Buys time to do it right

**Cons**:
- Embarrassing (but less embarrassing than leaving it broken)

**Timeline**: Immediate

---

### Option 2: Create Truly Self-Contained Installer (HARD)

**What's needed**:
1. Compile Go backend for Windows (easy - 10 minutes)
2. Bundle embedded Python (medium - 2 hours)
3. Install Streamlit into embedded Python (medium - 1 hour)
4. Package everything with electron-builder (easy - 30 minutes)
5. Test on clean Windows machine (critical - 1 hour)

**Challenges**:
- Embedded Python is 50-100MB
- Streamlit + dependencies is 50-100MB
- Total installer: 150-250MB
- Platform-specific (Windows, macOS, Linux each need separate builds)
- Requires testing on each platform

**Timeline**: 4-6 hours for Windows only, 12-16 hours for all platforms

---

### Option 3: Pivot to Web-Only Application (SMART)

**Realization**: The web app (`web/index.html`) is **already self-contained**:
- No backend required (runs 100% in browser)
- No installation required
- Works on all platforms
- 75KB total size vs 150MB Electron

**Action**:
1. Remove v0.5.0 release
2. Update README to promote web app as primary option
3. Keep Electron as "advanced" option for developers who want to run from source

**Pros**:
- Solves the problem immediately
- Better user experience (no download, no install)
- Works on all platforms
- Privacy-first (no server, all data in browser)
- Easier to maintain

**Cons**:
- No "desktop app" feel
- Requires internet connection (for initial load)

**Timeline**: 1 hour to update documentation

---

### Option 4: Hybrid Approach (PRAGMATIC)

**For non-technical users**: Web app (recommended)  
**For technical users**: Manual setup with scripts (already works)  
**For desktop enthusiasts**: Electron from source (for developers)

**Action**:
1. Remove v0.5.0 release
2. Update README with clear options:
   - **Easiest**: Web app (click link, start using)
   - **Customizable**: Manual setup (requires Python)
   - **Advanced**: Build from source (requires Go + Python + Node.js)

**Timeline**: 1-2 hours

---

## Recommendation

**Go with Option 4: Hybrid Approach**

**Why**:
1. **Honest**: Admits the Electron installer was premature
2. **User-focused**: Offers the web app as the easiest option
3. **Flexible**: Still supports power users who want local setup
4. **Maintainable**: Focuses effort on what works (web app + manual setup)
5. **Fast**: Can be done in 1-2 hours vs 12-16 hours for full Electron

**Next Steps**:
1. Delete v0.5.0 release
2. Update README.md to promote web app
3. Add clear "Installation Options" section
4. Test web app thoroughly
5. Create v0.5.1 tag pointing to web app + manual setup

---

## Lessons Learned

1. **Test packaged installers** on clean machines before releasing
2. **Don't assume** electron-builder will bundle runtimes
3. **Web apps** are often better than desktop apps for simple tools
4. **Complexity** of bundling Python + Streamlit was underestimated
5. **Release early** doesn't mean release broken

---

## Action Items

- [ ] Delete v0.5.0 release from GitHub
- [ ] Update README.md to promote web app
- [ ] Test web app on multiple browsers
- [ ] Create v0.5.1 release (web app + manual setup)
- [ ] Add this document to decisions/ for future reference

